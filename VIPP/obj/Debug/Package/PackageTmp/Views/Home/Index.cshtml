@{
    ViewBag.Title = "Home Page";
}

@helper CreateMarathonLinkList(List<VIPP.Models.MarathonLink> marathonLinks)
{
    <h4>Марафоны, в которых Вы принимаете участие:</h4>
    <ul>
        @foreach (var m in marathonLinks)
        {
            <li>@Html.ActionLink(m.LinkText, m.ActionName, new { activeDay = m.Day, currDay = m.Day, userId = m.CurrUserId })</li>
        }
    </ul>
}

@helper CreateMarathonSeeAchievementsLinkList(List<VIPP.Models.MarathonLink> marathonLinks)
{
    <h4>Марафоны, которые Вы ведете:</h4>
    <ul>
        @foreach (var m in marathonLinks)
        {
            <li>@Html.ActionLink(m.LinkText, m.ActionName, new { currDay = m.Day, marathonDateId = m.MarathonDateId })</li>
        }
    </ul>
}

@if (ViewBag.MarathonLinks != null && ViewBag.MarathonLinks.Count != 0)
{
    @CreateMarathonLinkList(ViewBag.MarathonLinks);
}

@if (ViewBag.UpcomingMarathons != null && ViewBag.UpcomingMarathons.Count != 0)
{
    <h4>Марафоны, в которых Вы будете принимать участие:</h4>
    <ul>
        @foreach (var upcomingMarathon in ViewBag.UpcomingMarathons)
        {
            <li>@upcomingMarathon</li>
        }
    </ul>
}

@if (ViewBag.MarathonSeeAchievementsLinks != null && ViewBag.MarathonSeeAchievementsLinks.Count != 0)
{
    @CreateMarathonSeeAchievementsLinkList(ViewBag.MarathonSeeAchievementsLinks);
}